<!DOCTYPE html>
<html>
  <body>
    <div id="jw8"  style="width:100%; height:auto"> </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <div id="jw8a" style="width:100"> </div>
  </body>

  <script type="module">
    /* eslint-disable no-console, no-alert */
    import { jwplayer, jwbase } from 'https://av.archive.org/js/jwplayer.js'

    let jid = 'jw8'
    jwplayer(jid).setup({
      base: jwbase,
      width: '100%',
      cast: {}, // xxx fail
      nextUpDisplay: true, // xxx fail
      related: { // xxx fail
        file: 'https://archive.org/services/collection-rss.php?collection=prelinger',
      },
      sharing: { // xxx fail
        link: location.href,
        sites: ['facebook', 'twitter', 'email'],
      },
      playlist: [
        { type: 'mp4', file: 'https://archive.org/download/camels/format=h.264' },
        { type: 'mp4', file: 'https://archive.org/download/stairs/format=h.264' },
        { type: 'mp4', file: 'https://archive.org/download/camaro/format=h.264' },
      ],
    })
    // eslint-disable-next-line no-use-before-define
    jwplayer(jid).on('ready', () => { ready(jid) })


    jid = 'jw8a'
    jwplayer(jid).setup({
      // width: '100%',
      height: 50,
      nextUpDisplay: true,
      related: { // xxx fail
        file: 'https://archive.org/services/collection-rss.php?collection=prelinger',
      },
      sharing: { // xxx fail
        link: location.href,
        sites: ['facebook', 'twitter', 'email'],
      },
      playlist: [
        { file: 'https://archive.org/download/Cracker2008-09-13.flac16/Cracker2008-09-13-MTX-d1t01FIXED.mp3' },
        { file: 'https://archive.org/download/Cracker2008-09-13.flac16/Cracker2008-09-13-MTX-d1t02.mp3' },
        { file: 'https://archive.org/download//Cracker2008-09-13.flac16/Cracker2008-09-13-MTX-d2t03.mp3' },
      ],
    })

    function ready(jid_) {
      console.log('ready')
      const player = jwplayer(jid_)

      const prv = '<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" style="transform: rotate(180deg)" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>'

      const nxt = '<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 0 240 240"><path d="M165,60v53.3L59.2,42.8C56.9,41.3,55,42.3,55,45v150c0,2.7,1.9,3.8,4.2,2.2L165,126.6v53.3h20v-120L165,60L165,60z"></path></svg>'

      const shr = '<svg xmlns="http://www.w3.org/2000/svg" class="jw-svg-icon jw-svg-icon-next" viewBox="0 25 75 50"><path d="M67.5,18c-5.1,0-9.3,4.2-9.3,9.3c0,0.5,0.1,1.1,0.2,1.6l-23,12.9c-1.7-1.8-4.1-3-6.8-3,c-5.1,0-9.3,4.1-9.3,9.3c0,5.1,4.1,9.3,9.3,9.3c2.7,0,5.2-1.2,6.9-3.1l22.8,13.4c0,0.4-0.1,0.7-0.1,1.1c0,5.1,4.1,9.3,9.3,9.3,c5.1,0,9.3-4.1,9.3-9.3c0-5.1-4.1-9.3-9.3-9.3c-2.8,0-5.4,1.3-7.1,3.3L37.7,49.4c0.1-0.4,0.1-0.9,0.1-1.3c0-0.5,0-1-0.1-1.5,l23.1-13c1.7,1.8,4.1,3,6.8,3c5.1,0,9.3-4.1,9.3-9.3C76.8,22.2,72.6,18,67.5,18L67.5,18z"></path></svg>'

      player.addButton(shr, 'share',    () => { alert('hai')         }, 'btn-shr')
      player.addButton(nxt, 'next',     () => { player.playlistNext() }, 'btn-nxt')
      player.addButton(prv, 'previous', () => { player.playlistPrev() }, 'btn-prv')
    }

    jwplayer(jid).on('ready', () => { ready(jid) })
  </script>
</html>
