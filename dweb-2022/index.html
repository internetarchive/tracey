<!doctype html><head><meta charset="utf-8"/><script src="../eveal.js/eveal.js"></script></head><body>

xxx
Friends & Family aggregate sitemap/feed
  - Friends & Family client-side aggregate lunr search
  - comments go to the right specific site/place/person/entity
- https://www.w3.org/TR/activitypub
  - SocialWG (christine is here...)
  - publish new activity
  - notify followers in their chosen way
- aggregate all your data/posts (twitter, f8, etc.) to markdown posts on your own site


# Blogs & Websites from Markdown & JS
## Content first, Decentralizable, Archivable

### [Tracey Jaquith](http://twitter.com/tracey_pooh)

#### [DwebCamp 2022](https://dwebcamp.org)

---
# The Idea

---
# A Site
<a href="https://blogtini.com"><img src="website.jpg"</a>

---
# A Post
<a href="https://blogtini.com/2022-07-blogtini-update/"><img src="post.jpg"</a>

---
# View Source
<a href="view-source:https://blogtini.com/2022-07-blogtini-update/"><img src="view-source.jpg"</a>

---
# Huh?
The page reads & parses itself

```js
const [frontmatter, markdown] = markdown_parse(
  document.getElementsByTagName('body')[0].innerHTML
)
```
[JS](https://blogtini.com/js/blogtini.js)

---
## Preview feedback xxx

- slide of tech for client side and why for each
  - diagram of stack
  - lunr
  - showdown
  - yml parser
  - localStorage
- show files layout on server https://github.com/traceypooh/ipfstini


---
- archivists site of many sites -- one combo sitemap away xxx


---
## Publish full blog and web pages
- content 100% markdown
- theme and markdown-to-markup done with JavaScript
- free github.com, gitlab.com
  - using a `sitemap.xml` or RSS feed, pages can be hosted anywhere
    - including DWeb
    - like "pointers" to your posts/pages

---
## How üï∑Ô∏è
- JS "crawls" your site
  - parses markdown "front matter"
    - date
    - title
    - tags
    - categories
  - uses `showdown` to convert to HTML
  - re-paints page
  - uses `localStorage` to save analyzed site, auto-updates daily (_can force re-cache_)
  - uses `lunr` for browser searching your posts/pages

---
## Why ü§î
- save each post or page as single markdown file
  - markdown is primary, archive-friendly, format/theme agnostic
  - site formatting is _secondary_
- all posts and pages can live in free `git` repo on github.com, gitlab.com, DWeb, self-hosted, etc.
- no build step, no backend needed
  - just a static file server
- theme can be changed anytime (1 line change)
- good google SEO
  - google & more crawlers doing JS rendering

---
## Why ü§î
- "View Source" is your original content -- no formatting, no clutter

- You're in control of your content
- posting to facebook, twitter, strava sucks
  - where is your content?
  - _what_ do you do with your GDPR?
- should last forever
- "roach proof" content-only format

---
## Life is better client-side üòä
- No build step
- No back-end
- Just html + JS static files

---
## Life is better client-side üòä

```js
// parse frontmatter & (optional) `config.yml`
import yml from 'https://esm.archive.org/js-yaml'

// markdown-to-html
import showdown from 'https://esm.archive.org/showdown'

// code highlighting
import hljs from 'https://esm.archive.org/highlightjs'

// client-side search - like `solr`
import lunr from 'https://esm.archive.org/lunr'

// date/time hacking
import dayjs from 'https://esm.archive.org/dayjs'

// comments
import './staticman.js'

// sort hashmap by key
import { krsort } from 'https://av.prod.archive.org/js/util/strings.js'
```


---
## Static Sites
- comments possible using `staticman`, etc.
  - `staticman` -- comments go into your site repository
- website search using `lunr` JS
- can use `git` "hooks" to run small script:
  - keeps `sitemap.xml` and RSS feed up-to-date
  - minor comments management

---
## Try it!
Simple as:
- create new file
- index.html
  - contents:

<pre>
‚Äê‚Äê‚Äê
title: my neat post
date: 2022-08-27
tags:
  ‚Äê blogging
  ‚Äê markdown
comment: &amp;#60;script src="https://blogtini.com/js/blogtini.js" type="module" charset="utf-8"&amp;#62;&amp;#60;/script&amp;#62;
‚Äê‚Äê‚Äê
Having fun *blogging* and hoping to write _more_ this year.
</pre>

---
# Preview
- use any basic http file server, eg:
```sh
python3 -m http.server
```
- OR open `index.html` in browser
  - [mac]: double click from `finder` folder; `open index.html` in `terminal`
- copy url to `safari` (if not already)
- dev tools, disable CORS restrictions & reload
<img src="cors.png">

---
# Examples
- https://blogtini.com/
- https://traceypooh.github.io/dwebtini/
- https://ipfs.io/ipfs/QmWhoVkYm2SNoPEAK5ZmKFNtqVAietNsdzZrZYWK9KaXw9/


---
# Publish
- make https://github.com account
- create and `git clone` a new repository
- add your `index.html` file
- add `.nojekyll` (empty) file
- `git push`
- [turn on GitHub Pages](https://docs.github.com/en/pages/quickstart)
- https://[YOUR-GITHUB-USERNAME].github.io/[REPOSITORY-NAME]/

---
# Extending out
- millions of sites linked together
- save a list of friends and families for a merged activity "feed"
- only needs to determine latest few posts from each site per sitemap/RSS
  - JS "crawl" them, parse their markdown, merge into decentralized feed

---
# GDPR
- General Data Protection Regulation (EU)
- primary aim is to enhance individuals' control and rights over their personal data
- "must be able to transfer personal data from one electronic processing system to and into another, without being prevented from doing so"


---
# Longevity ü™Ñ
- if `WordPress` goes away, billions of people disappear forever

```
‚ÄúTell me, what is it you plan to do
with your one wild and precious life?‚Äù
```
[https://wordsfortheyear.com/2015/06/21/the-summer-day-by-mary-oliver/](Mary Oliver - "The Summer Day")
